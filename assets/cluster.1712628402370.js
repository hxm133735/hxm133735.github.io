import{i as c}from"./initCesium.1712628402370.js";import{_ as m}from"./index.1712628402370.js";import{l as p,a as w,o as f}from"./vue.1712628402370.js";import"./cesium.1712628402370.js";const _={id:"cesiumContainer"},C={setup(v){const t=window.Cesium,n=new t.CustomDataSource("pointCluster"),d=()=>{window.viewer=c("cesiumContainer"),window.viewer._cesiumWidget._creditContainer.style.display="none",viewer.dataSources.add(n),g(),window.viewer.camera.flyTo({destination:{x:-2394652652133762e-9,y:4685291088876512e-9,z:4291586020709804e-9},orientation:{heading:6.283185307179581,pitch:-1.5688637134080228,roll:0}})},g=()=>{for(let a=0;a<20;a++){let i={name:"point"+a,position:t.Cartesian3.fromDegrees(Math.random()*1+116,Math.random()*1+39),billboard:{show:!0,eyeOffset:new t.Cartesian3(0,0,0),horizontalOrigin:t.HorizontalOrigin.CENTER,verticalOrigin:t.VerticalOrigin.BOTTOM,scale:1,alignedAxis:t.Cartesian3.ZERO,width:40,height:40,pixelOffset:new t.Cartesian2(0,0)}};n.entities.add(i),n.entities.values.forEach(e=>{e.billboard.image="./static/noPin.png"})}s()},s=()=>{n.clustering.enabled=!0,n.clustering.pixelRange=30,n.clustering.minimumClusterSize=2,n.clustering.clusterEvent.addEventListener((i,e)=>{e.label.show=!1,e.billboard.show=!0,e.billboard.id=e.label.id,e.billboard.verticalOrigin=t.VerticalOrigin.CENTER,i.length>=10?(e.billboard.image=a("./static/greenPin.png",i.length,64),e.billboard.width=60,e.billboard.height=60):i.length>=6?(e.billboard.image=a("./static/orangePin.png",i.length,64),e.billboard.width=55,e.billboard.height=55):i.length>=3?(e.billboard.image=a("./static/pinkPin.png",i.length,64),e.billboard.width=50,e.billboard.height=50):(e.billboard.image=a("./static/bluePin.png",i.length,64),e.billboard.width=45,e.billboard.height=45)});function a(i,e,r){let l=document.createElement("canvas");l.width=r,l.height=r;let o=l.getContext("2d");return new t.Resource.fetchImage(i).then(b=>{try{o.drawImage(b,0,0)}catch(h){console.log(h)}return o.fillStyle=t.Color.WHITE.toCssColorString(),o.font="bold 20px Microsoft YaHei",o.textAlign="center",o.textBaseline="middle",o.fillText(e,r/2,r/2),l})}};return p(()=>{d()}),(a,i)=>(f(),w("div",_))}};var E=m(C,[["__scopeId","data-v-4a4b3823"]]);export{E as default};
