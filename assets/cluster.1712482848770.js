import{i as c}from"./initCesium.1712482848770.js";import{_ as m}from"./index.1712482848770.js";import{l as p,a as w,o as f}from"./vue.1712482848770.js";const _={id:"cesiumContainer"},C={setup(v){const a=window.Cesium,t=new a.CustomDataSource("pointCluster"),d=()=>{window.viewer=c("cesiumContainer"),window.viewer._cesiumWidget._creditContainer.style.display="none",viewer.dataSources.add(t),g(),window.viewer.camera.flyTo({destination:{x:-2394652652133762e-9,y:4685291088876512e-9,z:4291586020709804e-9},orientation:{heading:6.283185307179581,pitch:-1.5688637134080228,roll:0}})},g=()=>{for(let n=0;n<20;n++){let i={name:"point"+n,position:a.Cartesian3.fromDegrees(Math.random()*1+116,Math.random()*1+39),billboard:{show:!0,eyeOffset:new a.Cartesian3(0,0,0),horizontalOrigin:a.HorizontalOrigin.CENTER,verticalOrigin:a.VerticalOrigin.BOTTOM,scale:1,alignedAxis:a.Cartesian3.ZERO,width:40,height:40,pixelOffset:new a.Cartesian2(0,0)}};t.entities.add(i),t.entities.values.forEach(e=>{e.billboard.image="./static/noPin.png"})}s()},s=()=>{t.clustering.enabled=!0,t.clustering.pixelRange=30,t.clustering.minimumClusterSize=2,t.clustering.clusterEvent.addEventListener((i,e)=>{e.label.show=!1,e.billboard.show=!0,e.billboard.id=e.label.id,e.billboard.verticalOrigin=a.VerticalOrigin.CENTER,i.length>=10?(e.billboard.image=n("./static/greenPin.png",i.length,64),e.billboard.width=60,e.billboard.height=60):i.length>=6?(e.billboard.image=n("./static/orangePin.png",i.length,64),e.billboard.width=55,e.billboard.height=55):i.length>=3?(e.billboard.image=n("./static/pinkPin.png",i.length,64),e.billboard.width=50,e.billboard.height=50):(e.billboard.image=n("./static/bluePin.png",i.length,64),e.billboard.width=45,e.billboard.height=45)});function n(i,e,l){let r=document.createElement("canvas");r.width=l,r.height=l;let o=r.getContext("2d");return new a.Resource.fetchImage(i).then(b=>{try{o.drawImage(b,0,0)}catch(h){console.log(h)}return o.fillStyle=a.Color.WHITE.toCssColorString(),o.font="bold 20px Microsoft YaHei",o.textAlign="center",o.textBaseline="middle",o.fillText(e,l/2,l/2),r})}};return p(()=>{d()}),(n,i)=>(f(),w("div",_))}};var T=m(C,[["__scopeId","data-v-4a4b3823"]]);export{T as default};
